# EVM Orderbook Server Configuration
# ERC-3643 compliant decentralized orderbook with Uniswap V3 settlement

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Server port
PORT=3001

# Environment
NODE_ENV=development

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# ============================================================================
# EVM NETWORK CONFIGURATION
# ============================================================================

# EVM RPC URL - supports multiple networks via Viem chains
# Local development: http://127.0.0.1:8545 (Anvil)
# Testnet: https://sepolia.infura.io/v3/YOUR_INFURA_KEY
# Mainnet: https://mainnet.infura.io/v3/YOUR_INFURA_KEY
VITE_EVM_RPC_URL=http://127.0.0.1:8545

# Chain ID - supported: 31337 (Anvil), 11155111 (Sepolia), 84532 (Base Sepolia), 11155420 (Optimism Sepolia)
CHAIN_ID=31337

# ============================================================================
# KEEPER CONFIGURATION (AUTOMATED ORDER MATCHING)
# ============================================================================

# Keeper private key for executing Uniswap V3 swaps
# WARNING: Never commit real private keys to version control
KEEPER_PRIVATE_KEY=YOUR-KEEPER-PRIVATE-KEY-HERE

# Orderbook API URL for keeper to fetch pending orders
ORDERBOOK_API_URL=http://localhost:3001

# Order matching interval in milliseconds (default: 30 seconds)
MATCHING_INTERVAL=30000

# Maximum number of order matches to execute per run
MAX_MATCHES_PER_RUN=10

# Minimum order size in wei (default: 1 token)
MIN_ORDER_SIZE=1000000000000000000

# ============================================================================
# ERC-3643 COMPLIANCE CONFIGURATION
# ============================================================================

# Required accreditation topics for order placement (comma-separated)
# 1=KYC, 2=Accreditation, 3=Qualified Investor, etc.
REQUIRED_CLAIM_TOPICS=1,2,3

# Compliance module addresses for different token pairs
# Format: TOKEN_PAIR=COMPLIANCE_ADDRESS
# Example: PYUSD_WETH=0x1234567890123456789012345678901234567890

# Identity registry addresses for different networks
# Format: NETWORK_ID=IDENTITY_REGISTRY_ADDRESS
# Example: 31337=0xabcdef1234567890abcdef1234567890abcdef12

# ============================================================================
# UNISWAP V3 CONFIGURATION
# ============================================================================

# Uniswap V3 factory address (same across all networks)
UNISWAP_V3_FACTORY=0x1F98431c8aD98523631AE4a59f267346ea31F984

# Default fee tiers for order pools (500=0.05%, 3000=0.3%, 10000=1%)
DEFAULT_POOL_FEES=500,3000,10000

# Slippage tolerance for order execution (percentage)
SLIPPAGE_TOLERANCE=0.05

# ============================================================================
# DATABASE CONFIGURATION (FUTURE USE)
# ============================================================================

# Database connection for persistent order storage
# DATABASE_URL=postgresql://user:password@localhost:5432/orderbook

# Redis URL for caching and session management
# REDIS_URL=redis://localhost:6379

# ============================================================================
# SECURITY & MONITORING
# ============================================================================

# CORS allowed origins (comma-separated)
# CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limiting (requests per minute per IP)
RATE_LIMIT_RPM=100

# Enable detailed request logging
ENABLE_REQUEST_LOGGING=true

# ============================================================================
# EXTERNAL API KEYS (FOR PRODUCTION)
# ============================================================================

# Infura/Alchemy API keys for production RPC access
# INFURA_API_KEY=your_infura_key_here
# ALCHEMY_API_KEY=your_alchemy_key_here

# Etherscan API key for transaction verification
# ETHERSCAN_API_KEY=your_etherscan_key_here

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================

# Enable debug mode for detailed error messages
DEBUG_MODE=true

# Test orderbook API URL (for testing keeper against test server)
# TEST_ORDERBOOK_API_URL=http://localhost:3002
